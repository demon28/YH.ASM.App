{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Work/YH-ASM/YH.ASM.App/YH.ASM.App/pages/support/checkByPmc.vue?4a5e","webpack:///E:/Work/YH-ASM/YH.ASM.App/YH.ASM.App/pages/support/checkByPmc.vue?9e47","webpack:///E:/Work/YH-ASM/YH.ASM.App/YH.ASM.App/pages/support/checkByPmc.vue?ee06","webpack:///E:/Work/YH-ASM/YH.ASM.App/YH.ASM.App/pages/support/checkByPmc.vue?3416","uni-app:///pages/support/checkByPmc.vue","webpack:///E:/Work/YH-ASM/YH.ASM.App/YH.ASM.App/pages/support/checkByPmc.vue?829f","webpack:///E:/Work/YH-ASM/YH.ASM.App/YH.ASM.App/pages/support/checkByPmc.vue?b5dd"],"names":["createPage","Page"],"mappings":"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","file":"pages/support/checkByPmc.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/support/checkByPmc.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./checkByPmc.vue?vue&type=template&id=35588100&\"\nvar renderjs\nimport script from \"./checkByPmc.vue?vue&type=script&lang=js&\"\nexport * from \"./checkByPmc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkByPmc.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/support/checkByPmc.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkByPmc.vue?vue&type=template&id=35588100&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkByPmc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkByPmc.vue?vue&type=script&lang=js&\"","<template>\r\n\r\n\r\n\r\n\r\n\t<view class=\"content\">\r\n\r\n\t\t<view class=\"uni-list\">\r\n\r\n\r\n\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ; \">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t* 物料单号:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t<input placeholder=\"请输入物料单号\" v-model=\"bookno\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t* 发货单号:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t<input placeholder=\"请输入发货单号\" v-model=\"sendno\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t* 收 货 人:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t<input placeholder=\"请输入收货人\" v-model=\"consignee\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\r\n\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t* 交付时间:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t<picker mode=\"date\" :value=\"delivery\" :end=\"endDate\" @change=\"bindDateChangedev\">\r\n\t\t\t\t\t\t<view class=\"uni-input\">{{delivery}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t* 送货时间:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-list-cell-db\">\r\n\t\t\t\t\t<picker mode=\"date\" :value=\"senddate\" :end=\"endDate\" @change=\"bindDateChangeSend\">\r\n\t\t\t\t\t\t<view class=\"uni-input\">{{senddate}}</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\r\n\r\n\t\t</view>\r\n\r\n\r\n\t\t<!--上传文件操作开始，不用动 -->\r\n\t\t<view class=\"uni-list\" style=\"margin-top: 30upx;\">\r\n\r\n\t\t\t<!--抄送人员以及处理人 操作开始，不用动 -->\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t* 下一处理人:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-list-cell-navigate uni-navigate-right\" @click=\"onFillUser\">\r\n\t\t\t\t\t<text> {{conductor.name}} </text>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t抄送人员:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-list-cell-navigate\" @click=\"onFillCopy\">\r\n\t\t\t\t\t<text> <text v-for=\"item in copy\" :key=\"item.uuid\">{{item.name+\",\"}}</text> </text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text style=\"color: #007AFF;margin-right: 20upx;\" @click=\"clearCC\" v-if=\"copy.length>0\">清空</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--抄送人员以及处理人，不用动 -->\r\n\r\n\r\n\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t上传附件:\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<button @click=\"onUpload\" size=\"mini\" type=\"default\" class=\"mini-btn\" style=\"margin-right: 15upx;margin-top: 5upx; \">添加</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\r\n\t\t\t<view class=\"uni-list-cell\" style=\"min-height:80upx ;\" v-for=\"file in uploadfile\" :key=\"file.tempFilePath\">\r\n\t\t\t\t<view class=\"uni-list-cell-left\">\r\n\t\t\t\t\t{{file.type}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text style=\"margin-right: 30upx; color: #0FAEFF;\">{{fileStatus}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--上传文件操作结束（其实应该封装成组件，但是现在还不会玩）-->\r\n\r\n\r\n\r\n\t\t</view>\r\n\r\n\r\n\t\t<view class=\"uni-textarea\" style=\"margin-top: 30upx;\">\r\n\t\t\t<textarea placeholder=\"结果描述\" v-model=\"remarks\" />\r\n\t\t\t</view>\r\n\r\n\t\t<button class=\"btn-logout\" style=\"margin-top: 30upx;\" @click=\"onSubmit()\">提交</button>\r\n\r\n\r\n\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex';\r\n\r\n\timport Config from '../../static/js/Config.js';\r\n\timport SugarRequest from '../../static/js/SugarRequest.js';\r\n\timport Verificat from '../../static/js/Verificat.js';\r\n\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['userId', 'supportConductor', 'supportCopy']),\r\n\t\t\tendDate() {\r\n\t\t\t\treturn this.getDate('end');\r\n\t\t\t},\r\n\r\n\t\t},\r\n\r\n\t\tdata() {\r\n\t\t\tconst currentDate = this.getDate({ format: true });\r\n\t\t\treturn {\r\n\r\n\t\t\t\tsid: 0,\r\n\t\t\t\tconductor: {},\r\n\t\t\t\tcopy: [],\r\n\t\t\t\tuploadfile: [],\r\n\t\t\t\tfilelist: [],\r\n\t\t\t\tfileStatus: \"\",\r\n\t\t\t\tpersonal: 0,\r\n\r\n\t\t\t\tbookno: \"\",\r\n\t\t\t\tsendno: \"\",\r\n\t\t\t\tconsignee: \"\",\r\n\t\t\t\t\r\n\t\t\t\tsenddate: currentDate,\r\n\t\t\t\tdelivery: currentDate,\r\n\t\t\t\t\r\n\t\t\t\tremarks:\"\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(pramse) {\r\n\t\t\tvar _self = this;\r\n\t\t\t_self.personal = pramse.personal;\r\n\t\t\t_self.sid = pramse.sid;\r\n\r\n\t\t},\r\n\t\tonShow(option) {\r\n\t\t\tvar _self = this;\r\n\r\n\t\t\tconsole.log(\"处理人员：\" + JSON.stringify(_self.supportConductor));\r\n\t\t\tlet checkconductor = _self.supportConductor;\r\n\t\t\tif (checkconductor != null && checkconductor.length > 0) {\r\n\t\t\t\t_self.conductor = checkconductor[0];\r\n\t\t\t} else {\r\n\t\t\t\t_self.conductor = {\r\n\t\t\t\t\tname: \"请选择\"\r\n\t\t\t\t};;\r\n\t\t\t}\r\n\r\n\t\t\tlet checkCopy = _self.supportCopy;\r\n\t\t\tif (checkCopy != null && checkCopy.length > 0) {\r\n\t\t\t\t_self.copy = checkCopy;\r\n\t\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\tonSubmit() {\r\n\t\t\tvar _self = this;\r\n\t\t\t\r\n\t\t//检查参数\r\n\t\tvar paramsCheck = _self.verifyParameters();\r\n\t\tif (!paramsCheck.res) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: \"none\",\r\n\t\t\t\ttitle: paramsCheck.message\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t//组装实体\r\n\t\t\tlet model = this.BuilderModel();\r\n\t\t\r\n\t\t\tconsole.log(\"我要开始出了工单了：\"+JSON.stringify(model));\r\n\t\t\tlet path = \"/api/Support/AddPmcOrder\";\r\n\t\t\r\n\t\t//提交数据\r\n\t\t\t\tthis.$SugarRequest.Post(model,path,(res,data)=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '处理成功，返回首页！',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess: (re) => {\r\n\t\t\t\t\t\t\tif (re.confirm)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconsole.log(\"回到首页\");\r\n\t\t\t\t\t\t\t\tuni.reLaunch({url:\"../main/main\"});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t},\r\n\t\t\r\n\r\n\t\tgetDate(type) {\r\n\t\t\tconst date = new Date();\r\n\t\t\tlet year = date.getFullYear();\r\n\t\t\tlet month = date.getMonth() + 1;\r\n\t\t\tlet day = date.getDate();\r\n\r\n\t\t\tif (type === 'start') {\r\n\t\t\t\tyear = year - 60;\r\n\t\t\t} else if (type === 'end') {\r\n\t\t\t\tyear = year + 2;\r\n\t\t\t}\r\n\t\t\tmonth = month > 9 ? month : '0' + month;;\r\n\t\t\tday = day > 9 ? day : '0' + day;\r\n\t\t\treturn `${year}-${month}-${day}`;\r\n\t\t},\r\n\t\tbindDateChangeSend(e) {\r\n\t\t\tthis.senddate = e.target.value;\r\n\t\t},\r\n\t\tbindDateChangedev(e) {\r\n\t\t\tthis.delivery = e.target.value;\r\n\t\t},\r\n\t\tonFillUser() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '../user/fillUser?isSingle=true&type=conductor'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonFillCopy() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '../user/fillUser?isSingle=false&type=copy'\r\n\t\t\t});\r\n\t\t},\r\n\t\tonUpload() {\r\n\t\t\tvar _self=this;\r\n\t\t\tuni.chooseMedia({\r\n\t\t\t  count: 1,\r\n\t\t\t  mediaType: ['image','video'],\r\n\t\t\t  sourceType: ['album', 'camera'],\r\n\t\t\t  maxDuration: 30,\r\n\t\t\t  camera: 'back',\r\n\t\t\t  success(res) {\r\n\t\t\t  \r\n\t\t\t\tconsole.log(\"选择的文件=====\"+JSON.stringify(res));\r\n\t\t\t\tlet type=res.type==\"image\"?\"图片\":\"视频\";\r\n\t\t\t\t\r\n\t\t\t\t_self.uploadfile=res.tempFiles;\r\n\t\t\t\t_self.uploadfile[0].type=type;\r\n\t\t\t\t_self.fileStatus=\"上传中...\";\r\n\t\t\t\t\r\n\t\t\t\t//上传文件\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:type+\"，上传中...\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"我要上传的文件路径\"+_self.uploadfile[0].tempFilePath);\r\n\t\t\t\t \r\n\t\t\t\t let params={\r\n\t\t\t\t\t SigningKey: _self.ApiKey,\r\n\t\t\t\t\t userid:_self.userId,\r\n\t\t\t\t\t \t sid:_self.sid\r\n\t\t\t\t }\r\n\t\t\t\t \r\n\t\t\t\t console.log(\"上传参数：\"+JSON.stringify(params));\r\n\t\t\t\t \r\n\t\t\t\t uni.uploadFile({\r\n\t\t\t\t            url:  Config.Parameters.LoginHost() + \"/api/Upload/UploadFileBySid\",\r\n\t\t\t\t            filePath: _self.uploadfile[0].tempFilePath,\r\n\t\t\t\t            name: 'file',\r\n\t\t\t\t            formData: params,\r\n\t\t\t\t\t\t\theader:{\"Content-Type\": \"multipart/form-data\"},\r\n\t\t\t\t            success: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tconsole.log(uploadFileRes);\r\n\t\t\t\t                console.log(\"文件上传成功，返回值：\"+JSON.stringify(uploadFileRes.data));\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t_self.fileStatus=\"上传成功\";\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"上传成功！\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t_self.filelist=[]; //单文件上传，清空\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlet json=JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\t\t\t\tlet file={ID:json.Content.ID,FILENAME:json.Content.FILENAME};\r\n\t\t\t\t\t\t\t\tconsole.log(\"填充文件列表：\" + JSON.stringify(file));\r\n\t\t\t\t\t\t\t\t_self.filelist.push(file);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t            },fail(e) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"上传文件失败=====\"+JSON.stringify(e))\r\n\t\t\t\t\t\t\t\t\t_self.fileStatus=\"上传失败\";\r\n\t\t\t\t            \tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"上传失败！\",\r\n\t\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t            }\r\n\t\t\t\t        });\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tverifyParameters() {\r\n\r\n\t\t\tlet _self = this;\r\n\t\t\tlet result = {\r\n\t\t\t\tres: true,\r\n\t\t\t\tmessage: \"\"\r\n\t\t\t};\r\n\r\n\t\t\tif (!Verificat.isNotNullTrim(_self.bookno)) {\r\n\t\t\t\tresult.res = false;\r\n\t\t\t\tresult.message = \"请填写物料单号\";\r\n\t\t\t}\r\n\r\n\t\t\tif (!Verificat.isNotNullTrim(_self.sendno)) {\r\n\t\t\t\tresult.res = false;\r\n\t\t\t\tresult.message = \"请填写发货单号\";\r\n\t\t\t}\r\n\t\t\tif (!Verificat.isNotNullTrim(_self.consignee)) {\r\n\t\t\t\tresult.res = false;\r\n\t\t\t\tresult.message = \"请填写收货人\";\r\n\t\t\t}\r\n\r\n\t\t\tif (!Verificat.isNotNullTrim(_self.delivery)) {\r\n\t\t\t\tresult.res = false;\r\n\t\t\t\tresult.message = \"请选择交付时间\";\r\n\t\t\t}\r\n\t\t\tif (!Verificat.isNotNullTrim(_self.senddate)) {\r\n\t\t\t\tresult.res = false;\r\n\t\t\t\tresult.message = \"请选择发货时间\";\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconsole.log(\"处理人：\" + JSON.stringify(_self.conductor));\r\n\t\t\tif (!Verificat.itemHasKeyVer(_self.conductor, \"uuid\")) {\r\n\t\t\t\tresult.res = false;\r\n\t\t\t\tresult.message = \"请选择处理人\";\r\n\t\t\t}\r\n\r\n\r\n\t\t\treturn result;\r\n\r\n\t\t},\r\n\t\tBuilderModel() {\r\n\t\tvar _self=this;\r\n\t\t\t\r\n\r\n\t\t\tlet model = {};\r\n\r\n\t\t\t//装载model\r\n\t\t\tmodel.SID = this.sid;\r\n\t\t\tmodel.NEXTUSER = this.conductor.uuid;\r\n\t\t\tmodel.PERSONALID = this.personal;\r\n\t\t\tmodel.SUPPORTSTATUS = 3;  \r\n\r\n\t\t\tmodel.BOOKNO = this.bookno;\r\n\t\t\tmodel.SENDNO = this.sendno;\r\n\t\t\tmodel.CONSIGNEE = this.consignee;\r\n\r\n\t\t\tmodel.SENDDATE = this.senddate; //下单时间\r\n\t\t\tmodel.DELIVERY = this.delivery;\r\n\t\t\tmodel.REMARKS=this.remarks;\r\n\r\n\t\t\tlet ccValue = \"\";\r\n\t\t\tif (_self.copy.length > 0) {\r\n\r\n\t\t\t\t//循环拼接推送人员\r\n\t\t\t\tfor (var i = 0; i < _self.copy.length; i++) {\r\n\t\t\t\t\tccValue += _self.copy[i].uuid + \",\";\r\n\t\t\t\t}\r\n\t\t\t\tccValue = ccValue.substring(0, ccValue.length - 1); //去掉最后一个逗号\r\n\r\n\t\t\t\t//有推送则添加推送消息，没有则不添加\r\n\t\t\t\tmodel.Push = {\r\n\t\t\t\t\tCONDUCTOR: _self.conductor.uuid,\r\n\t\t\t\t\tCC: ccValue,\r\n\t\t\t\t\tPOINT: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn model;\r\n\t\t},\r\n\t\t\r\n\t\tclearCC(){\r\n\t\t\tthis.copy=[];\r\n\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n\r\n\r\n<style>\r\n\t.btn-logout {\r\n\t\tmargin-top: 100upx;\r\n\t\twidth: 80%;\r\n\t\tborder-radius: 50upx;\r\n\t\tfont-size: 16px;\r\n\r\n\t\tbackground: linear-gradient(to right, #365fff, #36bbff);\r\n\t}\r\n\r\n\tinput {\r\n\t\tfont-size: 26upx;\r\n\r\n\t}\r\n\r\n\t.btn-logout-hover {\r\n\t\tbackground: linear-gradient(to right, #365fdd, #36bbfa);\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkByPmc.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.7.9.20200527.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkByPmc.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1595583825086\n      var cssReload = require(\"D:/HBuilderX.2.7.9.20200527.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}